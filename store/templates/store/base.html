<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>KEC Submersible Motor & Pump</title>

    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    {% load static %}

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="{% static 'store/css/style.css' %}">

    
    {% block extra_css %}{% endblock %}

    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    
    <!-- Heart symbol -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

</head>
<body>

<!-- âœ… NAVBAR START -->
{% load static %}
<nav class="navbar navbar-expand-lg navbar-dark bg-dark kec-navbar shadow-sm sticky-top">
  <div class="container">

    <!-- Mobile hamburger (ONLY mobile) -->
    <button class="navbar-toggler d-lg-none me-2"
            type="button"
            data-bs-toggle="offcanvas"
            data-bs-target="#mobileMenu">
      <span class="navbar-toggler-icon"></span>
    </button>

    <!-- MOBILE SEARCH (only mobile) -->
    <form class="d-flex d-lg-none ms-auto me-2 align-items-center"
          method="get"
          action="{% url 'store:shop' %}"
          style="flex:1; max-width: 260px;">

      <input class="form-control form-control-sm"
            type="search"
            name="q"
            placeholder="Search..."
            aria-label="Search">

      <button class="btn btn-primary btn-sm ms-1" type="submit">
        <i class="bi bi-search"></i>
      </button>
    </form>


    <!-- Logo -->
    <a class="navbar-brand d-flex align-items-center fw-bold"
       href="{% url 'store:home' %}">
      <img src="{% static 'store/images/KEC_logo.jpg' %}"
           class="kec-logo me-2">
    </a>

    <!-- DESKTOP NAVBAR (unchanged layout) -->
    <div class="collapse navbar-collapse d-none d-lg-flex" id="kecNavbar">

      <!-- Left menu -->
      <ul class="navbar-nav me-auto align-items-lg-center">
        <li class="nav-item">
          <a class="nav-link {% if request.path == '/' %}active{% endif %}"
             href="{% url 'store:home' %}">Home</a>
        </li>

        <li class="nav-item">
          <a class="nav-link {% if '/shop' in request.path %}active{% endif %}"
             href="{% url 'store:shop' %}">Shop</a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="{% url 'store:pump_chatbot' %}">
            ðŸ¤– K-BOT
          </a>
        </li>
      </ul>

      <!-- Center Search -->
      <form class="d-flex kec-search mx-auto"
            method="get"
            action="{% url 'store:shop' %}"
            style="max-width:420px;width:100%;">
        <input class="form-control"
               type="search"
               name="q"
               placeholder="Search pumps, motors...">
        <button class="btn btn-primary ms-2">
          <i class="bi bi-search"></i>
        </button>
      </form>

      <!-- Right menu -->
      <ul class="navbar-nav ms-auto align-items-center">

        {% if user.is_authenticated %}
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle"
               data-bs-toggle="dropdown">
              <i class="bi bi-person-circle"></i> {{ user.username }}
            </a>
            <ul class="dropdown-menu dropdown-menu-end">
              <li><a class="dropdown-item" href="{% url 'store:profile' %}">Profile</a></li>
              <li><a class="dropdown-item text-danger" href="{% url 'store:logout' %}">Logout</a></li>
            </ul>
          </li>

          <li class="nav-item ms-2">
            <a href="{% url 'store:wishlist' %}" class="nav-link">
              <i class="far fa-heart"></i>
              (<span id="wishlist-count">{{ wishlist_count }}</span>)
            </a>
          </li>
        {% endif %}

        <li class="nav-item ms-3">
          <a class="nav-link position-relative"
             href="{% url 'store:cart_detail' %}">
            <i class="bi bi-cart3 fs-5"></i>
            {% if request.session.cart %}
              <span class="badge bg-danger position-absolute top-0 start-100 translate-middle">
                {{ request.session.cart|length }}
              </span>
            {% endif %}
          </a>
        </li>

      </ul>
    </div>
  </div>
</nav>

<!-- âœ… NAVBAR END -->

<!-- âœ… MOBILE OFFCANVAS MENU -->
<div class="offcanvas offcanvas-start bg-dark text-light"
     tabindex="-1"
     id="mobileMenu">

  <div class="offcanvas-header">
    <h5 class="offcanvas-title">KEC Menu</h5>
    <button type="button" class="btn-close btn-close-white"
            data-bs-dismiss="offcanvas"></button>
  </div>

  <div class="offcanvas-body">

    <ul class="navbar-nav">

      <li class="nav-item">
        <a class="nav-link text-light" href="{% url 'store:home' %}">Home</a>
      </li>

      <li class="nav-item">
        <a class="nav-link text-light" href="{% url 'store:shop' %}">Shop</a>
      </li>

      <li class="nav-item">
        <a class="nav-link text-light" href="{% url 'store:pump_chatbot' %}">
          ðŸ¤– K-BOT
        </a>
      </li>

      <hr class="text-secondary">

      {% if user.is_authenticated %}
        <a class="nav-link text-light" href="{% url 'store:profile' %}">
          <i class="bi bi-person-circle"></i> Profile
        </a>

        <a class="nav-link text-light" href="{% url 'store:wishlist' %}">
          <i class="far fa-heart"></i> Wishlist
        </a>

        <a class="nav-link text-light position-relative"
          href="{% url 'store:cart_detail' %}">
          <i class="bi bi-cart3"></i> Cart
          {% if request.session.cart %}
            <span class="badge bg-danger ms-2">
              {{ request.session.cart|length }}
            </span>
          {% endif %}
        </a>

        <a class="nav-link text-danger" href="{% url 'store:logout' %}">
          Logout
        </a>
      {% else %}
        <a class="btn btn-outline-light mb-2" href="{% url 'store:login' %}">
          Login
        </a>
        <a class="btn btn-warning text-dark" href="{% url 'store:signup' %}">
          Sign Up
        </a>
      {% endif %}
    </ul>
  </div>
</div>



<!-- âœ… MAIN CONTENT -->
<div class="container mt-4">
    {% if messages %}
        {% for message in messages %}
            <div class="alert alert-info">{{ message }}</div>
        {% endfor %}
    {% endif %}

    {% block content %}{% endblock %}
</div>


<!-- FOOTER -->
<footer class="bg-dark text-light mt-5">
    <div class="container py-4">
        <div class="row align-items-start">

            <!-- Company Info (Left) -->
            <div class="col-md-6 mb-3">
                <h5 class="text-uppercase">KEC Submersible Pumps</h5>
                <p class="small">
                    Reliable submersible motors & pump solutions for agriculture,
                    domestic and industrial applications.
                </p>
            </div>

            <!-- Contact Details (Right) -->
            <div class="col-md-6 mb-3 text-md-end">
                <h5 class="text-uppercase">Contact Us</h5>

                <p class="mb-1">
                    <i class="bi bi-geo-alt-fill"></i>
                    <a href="https://www.google.com/maps/search/?api=1&query=Rajkot,+Gujarat,+India"
                      target="_blank"
                      class="text-light text-decoration-none">
                        Rajkot, Gujarat, India
                    </a>
                </p>


                <p class="mb-1">
                    <i class="bi bi-telephone-fill"></i>
                    +91 63559 67177
                </p>

                <p class="mb-1">
                    <i class="bi bi-envelope-fill"></i>
                    <a href="https://mail.google.com/mail/?view=cm&fs=1&to=ranpariyapurv@gmail.com"
                      target="_blank"
                      class="text-light text-decoration-none">
                        ranpariyapurv@gmail.com
                    </a>

                </p>
            </div>

        </div>

        <hr class="border-secondary">

        <!-- Copyright -->
        <div class="text-center small">
            Â© {{ year|default:2025 }} KEC Pumps. All Rights Reserved.
        </div>
    </div>
</footer>





<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>
